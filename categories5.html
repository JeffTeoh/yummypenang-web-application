<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
    <link rel="stylesheet" href="mainmenu.css">
    <link rel="stylesheet" href="jquery-upvote/lib/jquery.upvote.css">

    <title>Hae Mee</title>
  </head>
  <body>
    <!--top navigation bar-->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
      <a class="navbar-brand" href="mainmenu.html">YUMMY PENANG</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
    
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item mr-1">
            <b class="nav-link" id="userEmail"></b>
          </li>
          <li class="nav-item mr-1">
            <a class="nav-link" id="adminBtn" href="admin.html">Admin</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" id="authBtn"></a>
          </li>
        </ul>
      </div>
    </nav>

    <ul class="list-group mt-5">
      <li class="list-group-item">
        <div class="container">
          <div class="row">
            <div class="col-10">
              <div class="row">
                <div class="col-md-4 nopadding">
                  <img src="img/categories/ahsoonkor.jpg" alt="Ah Soon Kor Har Mee" class="img-fluid">
                </div>
                <div class="col-md-4 nopadding">
                  <a href="https://www.google.com/maps/place/Ah+Soon+Kor+Har+Mee/@5.4147894,100.3322282,17z/data=!3m1!4b1!4m5!3m4!1s0x304ac3bc31185527:0x4334b4a19ff0b044!8m2!3d5.4147894!4d100.3344169" target="_blank">
                    <img src="https://maps.googleapis.com/maps/api/staticmap?autoscale=2&size=350x254&maptype=roadmap&key=AIzaSyDJ-8RmXqcL0Xo_7P3GOI5k2siN2QPsmew&format=png&visual_refresh=true&markers=size:mid%7Ccolor:0xff0000%7Clabel:%7CAh+Soon+Kor+Har+Mee" alt="Google Map of Ah Soon Kor Har Mee" class="img-fluid">
                  </a>
                </div>
                <div class="col-md-2 nobreak text-left" style="color: black">
                  <p><b>Ah Soon Kor Har Mee</b></p>
                  <p>168, Jalan Macalister</p>
                  <p>Opening Hours: 6:30am – 1:00pm</p>
                  <p>Phone: 012-435 9933</p>
                </div>
              </div>
            </div>
            <div class="col-2 vote">
              <div id="topic" class="upvote">
                <a class="upvote voteClick"></a>
                <span class="count">0</span>
                <a class="downvote voteClick"></a>
              </div>
            </div>
          </div>
        </div>
      </li>
      <li class="list-group-item">
        <div class="container">
          <div class="row">
            <div class="col-10">
              <div class="row">
                <div class="col-md-4 nopadding">
                  <img src="img/categories/onecorner.jpg" alt="One Corner Cafe" class="img-fluid">
                </div>
                <div class="col-md-4 nopadding">
                  <a href="https://www.google.com/maps/place/One+Corner+Cafe/@5.4215181,100.3234832,17z/data=!3m1!4b1!4m5!3m4!1s0x304ac3a2c6aaa247:0x88b9bb489e7fd7e4!8m2!3d5.4215181!4d100.3256719" target="_blank">
                    <img src="https://maps.googleapis.com/maps/api/staticmap?autoscale=2&size=350x254&maptype=roadmap&key=AIzaSyDJ-8RmXqcL0Xo_7P3GOI5k2siN2QPsmew&format=png&visual_refresh=true&markers=size:mid%7Ccolor:0xff0000%7Clabel:%7Cone+corner+cafe" alt="Google Map of One Corner Cafe" class="img-fluid">
                  </a>
                </div>
                <div class="col-md-2 nobreak text-left" style="color: black">
                  <p><b>One Corner Cafe</b></p>
                  <p>No 2, Jalan Bawasah</p>
                  <p>Opening Hours: 8:00am - 11:00am</p>
                </div>
              </div>
            </div>
            <div class="col-2 vote">
              <div id="topic2" class="upvote">
                <a class="upvote voteClick"></a>
                <span class="count">0</span>
                <a class="downvote voteClick"></a>
              </div>
            </div>
          </div>
        </div>
      </li>
      <li class="list-group-item">
        <div class="container">
          <div class="row">
            <div class="col-10">
              <div class="row">
                <div class="col-md-4 nopadding">
                  <img src="img/categories/kwailock.jpg" alt="Kedai Kopi Kwai Lock" class="img-fluid">
                </div>
                <div class="col-md-4 nopadding">
                  <a href="https://www.google.com/maps/place/Kedai+Kopi+Kwai+Lock/@5.363647,100.3086103,17z/data=!3m1!4b1!4m5!3m4!1s0x304ac10eac3d72fd:0x2591dbccb80cbecd!8m2!3d5.363647!4d100.310799?hl=en" target="_blank">
                    <img src="https://maps.googleapis.com/maps/api/staticmap?autoscale=2&size=350x254&maptype=roadmap&key=AIzaSyDJ-8RmXqcL0Xo_7P3GOI5k2siN2QPsmew&format=png&visual_refresh=true&markers=size:mid%7Ccolor:0xff0000%7Clabel:%7Ckedai+kopi+kwai+lock" alt="Google Map of Kedai Kopi Kwai Lock" class="img-fluid">
                  </a>
                </div>
                <div class="col-md-2 nobreak text-left" style="color: black">
                  <p><b>Kedai Kopi Kwai Lock</b></p>
                  <p>295B, Jalan Burmah, Pulau Tikus</p>
                  <p>Opening Hours: 6:30am – 1:30pm</p>
                  <p>Phone: 04-433 4568</p>
                </div>
              </div>
            </div>
            <div class="col-2 vote">
              <div id="topic3" class="upvote">
                <a class="upvote voteClick"></a>
                <span class="count">0</span>
                <a class="downvote voteClick"></a>
              </div>
            </div>
          </div>
        </div>
      </li>
    </ul>

    <footer class="footer mt-5">
      <div class="container pt-5">
        <div class="text-center" style="font-size: 2rem">
          <b>Any place you wish to recommend? Let us know your suggestion!</b>
        </div>
        <div id="loginbox" class="py-5 col-md-8 offset-md-2 col-sm-8 offset-sm-2">
          <div class="suggestion suggestion-info">
            <div class="panel-heading">
              <div class="panel-title">SUBMISSION FORM</div>
            </div>
            <div class="suggestion-body p-3" >
              <form id="loginform" role="form" autocomplete="off">
                <div class="input-group mb-3">
                  <input type="text" class="form-control" placeholder="Name">
                </div>
                <div class="input-group mb-3">
                  <input type="text" class="form-control" placeholder="Address">
                </div>
                <div class="input-group mb-3">
                  <input type="text" class="form-control" placeholder="Operation Hours">
                </div>
                <div class="input-group mb-3">
                  <input type="text" class="form-control" placeholder="Phone">
                </div>
                <div class="input-group mb-3">
                  <div class="input-group-prepend">
                    <span class="input-group-text">Upload</span>
                  </div>
                  <div class="custom-file">
                    <input type="file" class="custom-file-input" id="inputGroupFile">
                    <label class="custom-file-label" for="inputGroupFile">Choose file</label>
                  </div>
                </div>
                <div class="input-group mb-3">
                  <input id="mapsearch" class="form-control" type="text" placeholder="Location">
                </div>
                <div class="form-group mt-1">
                  <button type="submit" class="btn btn-success" id="loginBtn">Submit</button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </footer>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>
    <script src="jquery-upvote/lib/jquery.upvote.js"></script>
    <script src="mapsearch.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDJ-8RmXqcL0Xo_7P3GOI5k2siN2QPsmew&libraries=places&callback=initAutocomplete"
      async defer></script>
    <script src="https://cdn.firebase.com/libs/firebaseui/3.1.1/firebaseui.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.2.0/firebase.js"></script>
    <script src="config.js"></script>
    <script src="initApp.js"></script>
    <script>
      $("#authBtn").click(function(){
        if($("#authBtn").html() == 'Login') {
          location.href = "login.html";
        }
        else {
          firebase.auth().signOut().then(function() {
            // Sign-out successful.
          }).catch(function(error) {
            // An error happened.
          });
        }
      });

      $('#topic').upvote();
      $('#topic2').upvote();
      $('#topic3').upvote();

      var callback = function(data) {
        $.ajax({
          url: '/vote',
          type: 'post',
          data: { id: data.id, up: data.upvoted, down: data.downvoted }
        });
      };
      $('#topic-123').upvote({id: 123, callback: callback});
      $('#topic2-123').upvote({id: 123, callback: callback});
      $('#topic3-123').upvote({id: 123, callback: callback});

      $(".voteClick").click(function(){
        if($("#authBtn").html() == 'Login'){
          location.href = "login.html";
        }
        else {
          console.log("record vote");
        }
      });
    </script>
  </body>
</html>